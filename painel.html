<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Painel Amaz√¥nia ‚Äî Observat√≥rio Bioecol√≥gico</title>

  <!-- Leaflet -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <style>
    :root{
      --bg:#05080f;
      --panel: rgba(6,10,18,.78);
      --line: rgba(26,255,140,.25);
      --neon:#1aff8c;
      --text:#e4e9f2;
      --muted:#9bb0d3;

      --ok:#1aff8c;
      --warn:#ffd35a;
      --bad:#ff3b57;
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; background:var(--bg); color:var(--text); font-family: Arial, Helvetica, sans-serif; }

    /* Layout HUD */
    .shell{
      height:100%;
      display:grid;
      grid-template-rows:auto 1fr auto;
      gap:10px;
      padding:10px;
    }
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:10px 12px;
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:16px;
      backdrop-filter: blur(10px);
    }
    .topbar .title{
      display:flex; gap:10px; align-items:baseline; flex-wrap:wrap;
      font-weight:900;
    }
    .topbar .subtitle{
      font-size:.85em;
      color:rgba(228,233,242,.75);
      font-weight:600;
    }
    .top-actions{ display:flex; gap:10px; align-items:center; }

    .chip{
      display:flex; align-items:center; gap:8px;
      padding:10px 14px;
      border:1px solid var(--line);
      border-radius:999px;
      cursor:pointer;
      user-select:none;
      transition:.18s;
      background: rgba(0,0,0,.25);
      font-weight:800;
      white-space:nowrap;
    }
    .chip:hover{ border-color: rgba(26,255,140,.55); box-shadow:0 0 18px rgba(26,255,140,.15); }
    .chip.primary{
      border-color: rgba(26,255,140,.45);
      box-shadow:0 0 22px rgba(26,255,140,.12);
      color: var(--neon);
    }

    .main{
      display:grid;
      grid-template-columns: 320px 1fr 320px;
      gap:10px;
      min-height:0;
    }
    .panel{
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:16px;
      backdrop-filter: blur(10px);
      padding:12px;
      min-height:0;
      overflow:auto;
    }
    .panel h3{
      margin:0 0 10px;
      font-size:1.0em;
      letter-spacing:.2px;
      display:flex; align-items:center; gap:8px;
    }
    .muted{ color:var(--muted); }
    .hr{ height:1px; background:rgba(26,255,140,.12); margin:10px 0; }

    .mapwrap{
      position:relative;
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:16px;
      overflow:hidden;
      min-height:0;
    }
    #map{ height:100%; width:100%; }

    .hudBox{
      position:absolute;
      left:12px;
      top:12px;
      background:rgba(6,10,18,.76);
      border:1px solid rgba(26,255,140,.22);
      border-radius:14px;
      padding:10px 12px;
      backdrop-filter: blur(10px);
      max-width:320px;
      box-shadow:0 0 22px rgba(26,255,140,.08);
      pointer-events:none;
    }
    .hudBox .big{ font-weight:900; }
    .legend{
      position:absolute;
      left:12px;
      bottom:12px;
      background:rgba(6,10,18,.76);
      border:1px solid rgba(26,255,140,.22);
      border-radius:14px;
      padding:10px 12px;
      backdrop-filter: blur(10px);
      width:320px;
      box-shadow:0 0 22px rgba(26,255,140,.08);
    }
    .bar{
      height:10px; border-radius:999px;
      background: linear-gradient(90deg, var(--bad), var(--warn), var(--ok));
      border:1px solid rgba(26,255,140,.12);
      margin:8px 0 6px;
    }
    .legendRow{ display:flex; justify-content:space-between; font-size:.8em; color:rgba(228,233,242,.75); }
    .dot{ width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:8px; }
    .dot.ok{ background:var(--ok); }
    .dot.warn{ background:var(--warn); }
    .dot.bad{ background:var(--bad); }

    .small{ font-size:.85em; }
    .kv{ display:flex; justify-content:space-between; gap:8px; font-size:.9em; }
    .kv b{ font-weight:900; }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 10px; border-radius:999px;
      border:1px solid rgba(26,255,140,.22);
      background:rgba(0,0,0,.20);
      font-weight:800;
    }

    .bottom{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
    }
    .card{
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px;
      backdrop-filter: blur(10px);
      min-height:92px;
    }
    .card .head{
      display:flex; align-items:center; justify-content:space-between;
      font-weight:900;
      margin-bottom:8px;
    }
    .tag{ font-size:.85em; color:rgba(228,233,242,.70); font-weight:700; }

    /* Modal */
    .modalOverlay{
      position:fixed; inset:0;
      background: rgba(0,0,0,.72);
      display:none;
      align-items:center; justify-content:center;
      z-index:9999;
    }
    .modal{
      width:min(860px, calc(100vw - 28px));
      background:var(--panel);
      border:1px solid var(--line);
      border-radius:18px;
      padding:18px;
      backdrop-filter: blur(12px);
      box-shadow:0 10px 40px rgba(0,0,0,.55);
    }
    .modalTop{
      display:flex; justify-content:space-between; align-items:center;
      gap:12px;
    }
    .modalTitle{ font-weight:900; font-size:1.1em; }
    .close{
      cursor:pointer;
      font-weight:900;
      border:1px solid var(--line);
      border-radius:999px;
      padding:6px 10px;
    }
    .close:hover{ border-color: rgba(26,255,140,.55); }

    @media (max-width:1100px){
      .main{ grid-template-columns: 1fr; grid-template-rows: auto 1fr auto; }
      .panel{ max-height:220px; }
      .bottom{ grid-template-columns:1fr; }
      .legend{ width:min(320px, calc(100% - 24px)); }
    }
  </style>
</head>

<body>
<div class="shell">

  <div class="topbar">
    <div>
      <div class="title">
        PAINEL AMAZ√îNIA ‚Äî Observat√≥rio Bioecol√≥gico
        <span class="subtitle">Dados p√∫blicos ‚Ä¢ Atualiza√ß√£o cont√≠nua ‚Ä¢ Escala 0‚Äì100</span>
      </div>
    </div>

    <div class="top-actions">
      <div class="chip" onclick="openModal('oquee')">üåø O que √©</div>
      <div class="chip" onclick="openModal('comofunciona')">‚öôÔ∏è Como funciona</div>
      <div class="chip" onclick="openModal('painel')">üìä Painel</div>
      <a class="chip" href="index.html">‚Üê Voltar</a>
      <div class="chip primary" onclick="atualizarTudo()">‚ü≥ Atualizar</div>
    </div>
  </div>

  <div class="main">
    <!-- ESQUERDA -->
    <div class="panel" id="leftPanel">
      <h3>üß© Camadas P√∫blicas <span class="muted small" style="margin-left:auto" id="statusOnline">online</span></h3>

      <div class="small">
        <div class="kv"><span>Base</span><b>Sat√©lite real (NASA GIBS / VIIRS)</b></div>
        <div class="kv"><span>Dist√∫rbio</span><b>Eventos reais (NASA EONET)</b></div>
        <div class="hr"></div>

        <div class="kv"><span>Regra</span><span class="pill"><span class="dot ok"></span>sem dist√∫rbio</span></div>
        <div class="kv" style="margin-top:6px;"><span></span><span class="pill"><span class="dot warn"></span>alerta</span></div>
        <div class="kv" style="margin-top:6px;"><span></span><span class="pill"><span class="dot bad"></span>dist√∫rbio</span></div>

        <div class="hr"></div>

        <div class="kv"><span>Atualiza√ß√£o</span><b id="lastUpdate">‚Äî</b></div>
        <div class="kv"><span>Eventos (Amaz√¥nia)</span><b id="countEvents">‚Äî</b></div>
        <div class="kv"><span>Pixels desenhados</span><b id="countPixels">‚Äî</b></div>

        <div class="hr"></div>

        <div class="kv"><span>Resolu√ß√£o (pixel)</span><b><span id="stepLabel">0.25</span>¬∞</b></div>
        <input id="stepRange" type="range" min="0.08" max="0.45" step="0.01" value="0.25" style="width:100%; margin-top:8px;">
        <div class="muted small" style="margin-top:6px;">
          Dica: 0.18‚Äì0.28¬∞ fica ‚Äúhologr√°fico‚Äù sem virar mancha.
        </div>
      </div>
    </div>

    <!-- MAPA -->
    <div class="mapwrap">
      <div id="map"></div>

      <div class="hudBox">
        <div class="big">‚ñ† Sistema ativo ‚Äî Amaz√¥nia</div>
        <div class="muted small">
          Pixels hologr√°ficos dentro do bioma (GeoJSON) + dist√∫rbios reais (EONET).
        </div>
      </div>

      <div class="legend">
        <div style="font-weight:900;">Escala Ecol√≥gica (0‚Äì100)</div>
        <div class="bar"></div>
        <div class="legendRow">
          <span>Impacto</span><span>Alerta</span><span>Baixo dist√∫rbio</span>
        </div>
        <div class="muted small" style="margin-top:8px;">
          Regra: dist√∫rbio = üî¥ ‚Ä¢ alerta = üü° ‚Ä¢ sem dist√∫rbio = üü¢
        </div>
      </div>
    </div>

    <!-- DIREITA -->
    <div class="panel">
      <h3>üì° Leituras em tempo real <span class="muted small" style="margin-left:auto"><span id="countPixelsRight">‚Äî</span> pixels</span></h3>
      <div class="muted small">
        Clique em qualquer pixel para ver a classifica√ß√£o e a dist√¢ncia at√© o dist√∫rbio real mais pr√≥ximo.
      </div>

      <div class="hr"></div>

      <div class="small">
        <div style="font-weight:900; margin-bottom:6px;">√öltimo pixel selecionado</div>
        <div id="lastPick" class="muted">‚Äî</div>
      </div>
    </div>
  </div>

  <!-- Rodap√© cards -->
  <div class="bottom">
    <div class="card">
      <div class="head">üìà S√©rie temporal (MVP) <span class="tag">placeholder</span></div>
      <div class="muted small">
        Pr√≥ximo passo: gr√°fico real do √≠ndice por dia/semana (NDVI + fogo + anomalias + clima).
      </div>
    </div>
    <div class="card">
      <div class="head">üß¨ Integridade / Cobertura <span class="tag">placeholder</span></div>
      <div class="muted small">
        Pr√≥ximo passo: m√©tricas reais por sat√©lite (NDVI/biomassa) e mudan√ßas de cobertura.
      </div>
    </div>
    <div class="card">
      <div class="head">üîí Transpar√™ncia <span class="tag">jur√≠dico</span></div>
      <div class="muted small">
        Observat√≥rio Amaz√¥nia ‚Äî Transpar√™ncia ambiental baseada em dados p√∫blicos.<br/>
        Este projeto n√£o constitui oferta de investimento. Plataforma de monitoramento ambiental.
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modalOverlay" id="modalOverlay" onclick="overlayClick(event)">
  <div class="modal">
    <div class="modalTop">
      <div class="modalTitle" id="modalTitle"></div>
      <div class="close" onclick="closeModal()">Fechar ‚úï</div>
    </div>
    <div id="modalBody" style="margin-top:10px; line-height:1.6;"></div>
  </div>
</div>

<!-- Libs -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://unpkg.com/@turf/turf@6/turf.min.js"></script>

<script>
  // ====== CONFIG ======
  const GEOJSON_URL = "amazonia.geojson"; // seu arquivo
  const EONET_FIRES_URL = "https://eonet.gsfc.nasa.gov/api/v3/events?status=open&category=wildfires&days=30";

  // Regra por dist√¢ncia (km)
  const DIST_RED_KM = 25;   // dist√∫rbio real pr√≥ximo
  const DIST_YEL_KM = 80;   // alerta

  // ====== MAPA ======
  const map = L.map("map", {
    zoomControl: true,
    preferCanvas: true
  }).setView([-5.2, -60.0], 4);

  // Base sat√©lite (GIBS / VIIRS) - funciona em GitHub Pages
  const gibs = L.tileLayer(
    "https://gibs.earthdata.nasa.gov/wmts/epsg3857/best/VIIRS_CityLights_2012/default/2012-01-01/GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg",
    { attribution: "NASA GIBS (VIIRS)" }
  ).addTo(map);

  // Camadas
  const layerAmazon = L.geoJSON(null, {
    style: {
      color: "rgba(26,255,140,.55)",
      weight: 2,
      fillColor: "rgba(26,255,140,.06)",
      fillOpacity: 0.15
    }
  }).addTo(map);

  const layerPixels = L.layerGroup().addTo(map);
  const layerEvents = L.layerGroup().addTo(map);

  // ====== UI ======
  const elLastUpdate = document.getElementById("lastUpdate");
  const elCountEvents = document.getElementById("countEvents");
  const elCountPixels = document.getElementById("countPixels");
  const elCountPixelsRight = document.getElementById("countPixelsRight");
  const elLastPick = document.getElementById("lastPick");
  const elStatusOnline = document.getElementById("statusOnline");
  const stepRange = document.getElementById("stepRange");
  const stepLabel = document.getElementById("stepLabel");

  stepRange.addEventListener("input", () => {
    stepLabel.textContent = Number(stepRange.value).toFixed(2);
  });

  stepRange.addEventListener("change", () => {
    atualizarTudo();
  });

  // ====== HELPERS ======
  function nowBR(){
    const d = new Date();
    return d.toLocaleString("pt-BR");
  }

  function corPorClasse(cl){
    if(cl === "disturbio") return "rgba(255,59,87,.95)";
    if(cl === "alerta") return "rgba(255,211,90,.95)";
    return "rgba(26,255,140,.95)";
  }

  function glowStyle(color, r){
    return {
      radius: r,
      color: color,
      weight: 0,
      fillColor: color,
      fillOpacity: 0.18
    };
  }

  function pixelStyle(color, r){
    return {
      radius: r,
      color: color,
      weight: 1,
      opacity: 0.85,
      fillColor: color,
      fillOpacity: 0.75
    };
  }

  function kmDistance(lat1, lon1, lat2, lon2){
    const R = 6371;
    const dLat = (lat2-lat1) * Math.PI/180;
    const dLon = (lon2-lon1) * Math.PI/180;
    const a =
      Math.sin(dLat/2)*Math.sin(dLat/2) +
      Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) *
      Math.sin(dLon/2)*Math.sin(dLon/2);
    const c = 2*Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    return R*c;
  }

  // Encontra o evento mais pr√≥ximo
  function nearestEvent(lat, lon, events){
    let best = null;
    let bestD = Infinity;
    for(const e of events){
      const d = kmDistance(lat, lon, e.lat, e.lon);
      if(d < bestD){ bestD = d; best = e; }
    }
    return { event: best, km: bestD };
  }

  function classificar(lat, lon, events){
    if(!events.length) return { classe: "ok", km: null, nearest: null };

    const n = nearestEvent(lat, lon, events);
    if(n.km <= DIST_RED_KM) return { classe: "disturbio", km: n.km, nearest: n.event };
    if(n.km <= DIST_YEL_KM) return { classe: "alerta", km: n.km, nearest: n.event };
    return { classe: "ok", km: n.km, nearest: n.event };
  }

  function limparCamadas(){
    layerPixels.clearLayers();
    layerEvents.clearLayers();
  }

  // ====== DADOS REAIS (EONET) ======
  async function fetchEonetFires(){
    const res = await fetch(EONET_FIRES_URL, { cache:"no-store" });
    if(!res.ok) throw new Error("EONET falhou ("+res.status+")");
    const json = await res.json();

    // EONET v3 pode trazer geometrias diferentes. Vamos normalizar para "um ponto"
    const points = [];
    for(const ev of (json.events || [])){
      const geoms = ev.geometry || [];
      if(!geoms.length) continue;

      // pega a geometria mais recente
      const g = geoms[geoms.length - 1];
      const coords = g.coordinates;

      // pode ser [lon,lat] ou array de coords
      if(Array.isArray(coords) && typeof coords[0] === "number"){
        points.push({
          id: ev.id,
          title: ev.title || "Evento",
          date: g.date || "",
          lon: coords[0],
          lat: coords[1],
          source: "NASA EONET"
        });
      }
    }
    return points;
  }

  // ====== GEOJSON AMAZ√îNIA ======
  async function fetchAmazonGeojson(){
    const res = await fetch(GEOJSON_URL, { cache:"no-store" });
    if(!res.ok) throw new Error("N√£o achei "+GEOJSON_URL+" ("+res.status+")");
    return await res.json();
  }

  // ====== PIXELS HOLOGR√ÅFICOS ======
  function gerarPixelsDentro(amazonGeo, events){
    // turf polygon/multipolygon
    const poly = amazonGeo;

    // bbox do geojson
    const bbox = turf.bbox(poly); // [minX, minY, maxX, maxY]
    const minLon = bbox[0], minLat = bbox[1], maxLon = bbox[2], maxLat = bbox[3];

    // step em graus (controle do ‚Äúpixel‚Äù)
    const step = Number(stepRange.value);

    // raio do pixel (ajusta automaticamente com step)
    // step pequeno => pixel pequeno
    const rPixel = Math.max(1.4, Math.min(3.2, 0.75 + (step*6)));
    const rGlow  = rPixel * 2.2;

    let count = 0;

    // gera uma grade, mas s√≥ desenha se estiver dentro do pol√≠gono
    for(let lat = minLat; lat <= maxLat; lat += step){
      for(let lon = minLon; lon <= maxLon; lon += step){

        const pt = turf.point([lon, lat]);
        if(!turf.booleanPointInPolygon(pt, poly)) continue;

        const cls = classificar(lat, lon, events);
        const color = corPorClasse(cls.classe);

        // glow (halo)
        const halo = L.circleMarker([lat, lon], glowStyle(color, rGlow));
        // pixel
        const px = L.circleMarker([lat, lon], pixelStyle(color, rPixel));

        px.on("click", () => {
          const txt =
            `<b>Classifica√ß√£o:</b> ${cls.classe === "disturbio" ? "üî¥ dist√∫rbio" : cls.classe === "alerta" ? "üü° alerta" : "üü¢ sem dist√∫rbio"}<br>` +
            `<b>Lat/Lon:</b> ${lat.toFixed(3)}, ${lon.toFixed(3)}<br>` +
            (cls.km != null ? `<b>Dist√¢ncia at√© dist√∫rbio real:</b> ${cls.km.toFixed(1)} km<br>` : ``) +
            (cls.nearest ? `<span class="muted">Evento mais pr√≥ximo:</span> ${cls.nearest.title}<br><span class="muted">Fonte:</span> ${cls.nearest.source}` : `<span class="muted">Sem eventos EONET no per√≠odo.</span>`);
          elLastPick.innerHTML = txt;
        });

        halo.addTo(layerPixels);
        px.addTo(layerPixels);

        count++;
      }
    }

    return count;
  }

  function desenharEventos(events, amazonPoly){
    // desenha s√≥ os eventos dentro/na regi√£o pr√≥xima (pra manter foco)
    // (a regra do pixel j√° usa dist√¢ncia, mas aqui √© s√≥ visual)
    for(const e of events){
      const pt = turf.point([e.lon, e.lat]);
      // se estiver dentro do pol√≠gono, destaca
      if(turf.booleanPointInPolygon(pt, amazonPoly)){
        const m = L.circleMarker([e.lat, e.lon], {
          radius: 4,
          color: "rgba(255,59,87,.95)",
          weight: 1,
          fillColor: "rgba(255,59,87,.95)",
          fillOpacity: 0.9
        });
        m.bindPopup(`<b>Dist√∫rbio real</b><br>${e.title}<br><span class="muted">Fonte:</span> ${e.source}`);
        m.addTo(layerEvents);
      }
    }
  }

  // ====== ATUALIZAR TUDO ======
  async function atualizarTudo(){
    try{
      elStatusOnline.textContent = "atualizando‚Ä¶";
      limparCamadas();

      const amazonGeo = await fetchAmazonGeojson();
      layerAmazon.clearLayers();
      layerAmazon.addData(amazonGeo);
      map.fitBounds(layerAmazon.getBounds(), { padding:[18,18] });

      const events = await fetchEonetFires();

      // converte geojson para turf feature (garante)
      const amazonTurf = amazonGeo.type ? amazonGeo : turf.featureCollection(amazonGeo);

      // desenha eventos reais (s√≥ dentro da Amaz√¥nia)
      desenharEventos(events, amazonTurf);

      // gera pixels (dentro do geojson) e colore por dist√¢ncia de dist√∫rbios reais
      const pixelCount = gerarPixelsDentro(amazonTurf, events);

      elLastUpdate.textContent = nowBR();
      elCountEvents.textContent = events.length;
      elCountPixels.textContent = pixelCount;
      elCountPixelsRight.textContent = pixelCount;

      elStatusOnline.textContent = "online";
    }catch(err){
      elStatusOnline.textContent = "erro";
      alert("Erro ao atualizar: " + err.message + "\n\nVerifique: amazonia.geojson existe na raiz e o nome est√° correto.");
    }
  }

  // ===== MODAIS =====
  const content = {
    oquee: {
      title: "üåø O que √© o Observat√≥rio Bioecol√≥gico da Amaz√¥nia",
      body: `
        <p>
          Um painel p√∫blico que transforma <b>dados ambientais reais</b> em uma leitura visual do
          estado ecol√≥gico da floresta.
        </p>
        <p class="muted">
          Sem pre√ßo, sem promessa, sem venda: apenas monitoramento verific√°vel.
        </p>
      `
    },
    comofunciona: {
      title: "‚öôÔ∏è Como funciona (MVP)",
      body: `
        <ul>
          <li><b>Sat√©lite real</b> (NASA GIBS / VIIRS) como base do mapa.</li>
          <li><b>Vegeta√ß√£o</b> (NDVI) como camada bi√≥tica <span class="muted">(pr√≥ximo passo)</span>.</li>
          <li><b>Dist√∫rbios</b> (anomalias t√©rmicas/fogo) <span class="muted">(MVP via EONET)</span>.</li>
          <li><b>Pixels</b> dentro do bioma (GeoJSON) com regra üî¥üü°üü¢ por dist√¢ncia ao dist√∫rbio real.</li>
        </ul>
        <p class="muted">
          Regra do Observat√≥rio: <b>dist√∫rbio</b> = üî¥ ‚Ä¢ <b>alerta</b> = üü° ‚Ä¢ <b>sem dist√∫rbio</b> = üü¢.
          Pr√≥ximo passo: √≠ndice ecol√≥gico completo (NDVI + fogo + clima + cobertura + dist√∫rbio).
        </p>
      `
    },
    painel: {
      title: "üìä Painel Amaz√¥nia ‚Äî voc√™ encontra",
      body: `
        <ul>
          <li><b>Sistema ativo da Amaz√¥nia</b></li>
          <li><b>Dados p√∫blicos</b></li>
          <li><b>Atualiza√ß√£o cont√≠nua</b></li>
        </ul>
        <p class="muted">
          Mapa sat√©lite real + pixels hologr√°ficos dentro do bioma (GeoJSON) + dist√∫rbios reais (EONET).
          Clique nos pixels para ver classifica√ß√£o e dist√¢ncia at√© o dist√∫rbio.
        </p>
      `
    }
  };

  function openModal(key){
    const overlay = document.getElementById("modalOverlay");
    document.getElementById("modalTitle").innerHTML = content[key].title;
    document.getElementById("modalBody").innerHTML = content[key].body;
    overlay.style.display = "flex";
  }
  function closeModal(){ document.getElementById("modalOverlay").style.display = "none"; }
  function overlayClick(e){ if(e.target.id === "modalOverlay") closeModal(); }
  document.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeModal(); });

  // start
  atualizarTudo();
  setInterval(atualizarTudo, 10 * 60 * 1000);
</script>
</body>
</html>
